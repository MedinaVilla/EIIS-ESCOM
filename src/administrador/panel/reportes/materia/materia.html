<html>

<head>
    <title>
        Materias
    </title>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="assets/img/logoESCOM.png" />
    <link rel="stylesheet" type="text/css" href="assets/css/materialize/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="assets/js/jquery-3.4.1.min.js"></script>
    <script src="assets/js/materialize.min.js"></script>
</head>

<body>
    <div>
        <nav>
            <div class="nav-wrapper">
                <a href="./panel" class="brand-logo"> &nbsp;<b>EIIS-ESCOM</b></a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li><a href="./panel">Inicio</a></li>
                    <li><a href="./alumnos">Buscar Alumno</a></li>
                    <li><a class="dropdown-trigger" data-target="dropdown1">Reportes<i
                                class="material-icons right">arrow_drop_down</i></a></li>
                    <li><b><a href="./cerrarsesion">Cerrar sesi√≥n</a></b></li>
                </ul>
            </div>
        </nav>
        <br />
        <h3 class="container">Reportes por materia</h3><br />
        <form class="container col s12">
            <div class="row">
                <div class="input-field col s12">
                    <select onChange="getMateriaData();" id="materias">
                        <option value="" disabled selected>Seleccione una materia</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
    <!-- Dropdown Structure -->
    <ul id="dropdown1" class="dropdown-content">
        <li><a href="./reporte_alumno">Alumno</a></li>
        <li class="divider"></li>
        <li><a href="./reporte_materia">Materia</a></li>
    </ul>
    <script>
        $(document).ready(function () {
            $.ajax(
                './src/administrador/panel/reportes/materia/getMaterias.php',
                {
                    success: function (response) {
                        let materias = JSON.parse(response);
                        $.each(materias, function (index, item) {
                            let Options = "";
                            Options = Options + "<option value='" + item.materia + "'>" + item.materia + "</option>";
                            $('#materias').append(Options);
                            $('#materias').formSelect()
                        });
                    },
                    error: function () {
                        alert('There was some error performing the AJAX call!');
                    }
                }
            );
            $('.dropdown-trigger').dropdown();
        });
        //END Dropdown Structure 

        function getMateriaData() {
            let materia = document.getElementById("materias").value
            // Peticion AJAX para obtener los datos

        }
        $(document).ready(function () {
            $('select').formSelect();
        });
    </script>
</body>

</html>